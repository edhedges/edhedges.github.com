<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="author" content="Eddie Hedges">
    <meta name="description" content="Eddie Hedges is a web developer that enjoys both front and back end development. This includes markup, styling, user interface, functionality, and data store. This website will have information about programming, web development and design, python, ruby, javascript, html, css, open source, and possibly some health/nutrition information.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
      <title>Eddie Hedges - Jekyll (with plugins!) hosted on GitHub Pages</title>
    
    <link href="http://fonts.googleapis.com/css?family=Nunito:700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="/css/edstyles.min.css">
  </head>
  <body>
    <div id="forkme"><a href="https://github.com/edhedges"><img src="/img/forkme.png" alt="Fork me on GitHub"></a></div>
      <div class="container">
        <header>
          <div class="eight columns">
            <h1><a href="/">Eddie Hedges</a></h1>
          </div>
          <div class="eight columns">
            <ul id="social_list">
              <li id="githubicon"><a title="GitHub Profile" id="octoicon" href="https://github.com/edhedges"></a></li>
              <li><a title="Reddit Profile" id="redditicon" href="http://www.reddit.com/user/EhWardo/"></a></li>
              <li><a title="Facebook Profile" id="facebookicon" href="https://www.facebook.com/circlejerkEd"></a></li>
              <li><a title="Twitter Profile" id="twittericon" href="https://twitter.com/#!/Dwedard"></a></li>
              <li><a title="LinkIn Profile" id="linkedinicon" href="http://www.linkedin.com/pub/eddie-hedges/3b/167/168"></a></li>
              <li><a title="RSS Feed" id="rssicon" href="/atom.xml"></a></li>
            </ul>
          </div>
          <div class="sixteen columns">
            <hr />
          </div>
        </header>
<div class="row">
  <div class="sixteen columns">
    <p>Want to read more posts? Go back to the <a href="/blog/">archives</a>.</p>
    <h2 id="post_title">Jekyll (with plugins!) hosted on GitHub Pages</h2>
    <p>Tags: <a href="/tag/Jekyll">Jekyll</a>, <a href="/tag/Git">Git</a>, <a href="/tag/GitHub">GitHub</a>, <a href="/tag/GitHub-Pages">GitHub-Pages</a>, <a href="/tag/Ruby">Ruby</a>, <a href="/tag/Liquid">Liquid</a></p>
    <hr />
    <div class="post_content">
      <h4 id='a_little_background'>A little background</h4>

<p>A while back I was bored and burned out on a programming project I had started, so I spun up a new design for my website. I also wanted to start using a static website generator and ended up choosing <a href='http://jekyllrb.com'>Jekyll</a>. I chose Jekyll so I could host it for free with <a href='http://pages.github.com/'>GitHub Pages</a> as well as learn a little bit of <a href='http://www.ruby-lang.org/en/'>Ruby</a> and <a href='https://github.com/Shopify/liquid'>Liquid</a>.</p>

<p>Everything about Jekyll and hosting it on GitHub Pages was going very smoothly up until I wanted to use a <a href='https://github.com/mojombo/jekyll/wiki/Plugins'>Jekyll Plugin</a>. Jekyll (without plugins) had almost everything I wanted except it was missing tag support for blog posts. I went with (<a href='https://github.com/pattex/jekyll-tagging'>jekyll-tagging</a>) but this ended up breaking my site. I found out after reading the full GitHub Pages documentation that Jekyll plugins are not supported. I fully understand why GitHub doesn&#8217;t allow this as it could be a security issue for GitHub.</p>

<h4 id='encountering_a_small_problem'>Encountering a small problem</h4>

<p>I was really set on using GitHub Pages as my host because who doesn&#8217;t like free web hosting? So I did some research on this obstacle and found that some people just generated their site and pushed the static files to GitHub and added a file named <code>.nojekyll</code> to the repository so GitHub pages doesn&#8217;t use Jekyll but instead <a href='https://help.github.com/articles/files-that-start-with-an-underscore-are-missing'>serves the files you push to the repo</a>. My goal was to keep one repository with a master branch that contains only the static content generated by Jekyll and a dev branch that had everything Jekyll needed as well as the generated <code>_site</code>. I wasn&#8217;t sure if this was possible so I asked on <a href='http://stackoverflow.com/'>Stack Overflow</a> if anyone knew if it could be done and if so how to do it because I was stuck.</p>

<h4 id='attempting_to_solve_the_problem'>Attempting to solve the problem</h4>

<p>I received an <a href='http://stackoverflow.com/questions/11678592/is-it-possible-to-have-a-github-repo-with-two-branches-that-contain-different-di'>answer to my question</a> almost immediately with exactly what I needed! I would like to thank <a href='http://stackoverflow.com/users/599922/alexandr-priymak'>Alexandr Priymak</a> for helping me out and explaining his method and thinking very well. My Jekyll site with plugins is hosted on GitHub Pages thanks to him.</p>

<p>Programmers and other tech oriented people can seem unsocial and sometimes arrogant but it is people like Alexandr that remind me that communities like Stack Overflow, Reddit, and GitHub are filled with the best kind of people. These people take their time to help others out solely for the sake of helping (and possibly some internet points) and are passionate about software and technology in general.</p>

<p>I am very thankful and lucky to be part of these communities and I hope to start contributing back more as time goes on and I grow wiser.</p>

<p>Lastly on a more technical note if you would like to do what I have done and use one repository on GitHub to host a Jekyll site with plugins you can check out the Stack Overflow thread I linked above or just look at the following commands.</p>

<h4 id='problem_solved'>Problem solved!</h4>

<p>These commands assume that you have a master branch and a development branch named them whatever you want. Mine are named master and dev.</p>

<p>This command will create a commit object of the development branches generated <code>_site</code> directory and then ouputs the commits ID. We will need the ID for later so make sure that we are able to copy and paste it or at least view it.</p>
<div class='highlight'><pre><code class='sh'><span class='nb'>echo</span> <span class='s1'>&#39;description of what we are doing&#39;</span> | git commit-tree dev^<span class='o'>{</span>tree<span class='o'>}</span>:_site
</code></pre>
</div>
<p>Now that we have a commit object that contains only the static content in <code>_site</code> we want to update the master branch so that it only contains those files.</p>
<div class='highlight'><pre><code class='sh'>git update-ref refs/heads/master COMMIT_ID
</code></pre>
</div>
<p>So now we run a <code>checkout</code> on the master branch and should see only the contents of the <code>_site</code> directory.</p>
<div class='highlight'><pre><code class='sh'>git checkout master
</code></pre>
</div>
<p>This is exactly what we want but since we didn&#8217;t specify a parent for the commit we will need to push to GitHub with a force push.</p>
<div class='highlight'><pre><code class='sh'>git push -f origin master
</code></pre>
</div>
<p>On the other hand we can specify a parent before the push which enables us to bypass the <code>-f</code> option on our git push.</p>
<div class='highlight'><pre><code class='sh'><span class='nb'>echo</span> <span class='s1'>&#39;description of what we are doing&#39;</span> | git commit-tree dev^<span class='o'>{</span>tree<span class='o'>}</span>:_site -p <span class='k'>$(</span>cat .git/refs/heads/master<span class='k'>)</span>
</code></pre>
</div>
<p>We don&#8217;t want to have to do all these steps every time so instead we can do everything but the push in one step like this:</p>
<div class='highlight'><pre><code class='sh'>git update-ref refs/heads/master <span class='k'>$(</span><span class='nb'>echo</span> <span class='s1'>&#39;Add commit message here!&#39;</span> | git commit-tree dev^<span class='o'>{</span>tree<span class='o'>}</span>:_site -p <span class='k'>$(</span>cat .git/refs/heads/master<span class='k'>))</span>
</code></pre>
</div>
<p>And then we just checkout the master branch and push it to GitHub. Within the next few minutes the site will be built by GitHub Pages!</p>

<p>Here is the documentaion for the commands we used with git:</p>

<ul>
<li><a href='http://www.kernel.org/pub/software/scm/git/docs/git-commit-tree.html'>git commit-tree</a></li>

<li><a href='http://www.kernel.org/pub/software/scm/git/docs/git-update-ref.html'>git update-ref</a></li>

<li><a href='http://www.kernel.org/pub/software/scm/git/docs/git-checkout.html'>git checkout</a></li>

<li><a href='http://www.kernel.org/pub/software/scm/git/docs/git-push.html'>git push</a></li>
</ul>

<p>Thanks for reading!</p>
    </div>
    <hr />
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'edhedges';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  </div>
</div>
      <div class="row">
        <div class="sixteen columns">
          <hr />
          <footer>
            <p>Built by <a href="/">Eddie Hedges</a> with help from <a href="https://github.com/mojombo/jekyll">Jekyll</a></p>
          </footer>
        </div>
      </div>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="/js/tooltips.min.js" type="text/javascript"></script>
    
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28147007-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>